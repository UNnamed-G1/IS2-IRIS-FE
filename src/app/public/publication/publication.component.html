<div class="panel panel-default" style="margin-top:10px;">
  <div class="panel-heading">
    <h1>Publicaciones</h1>
  </div>

  <div class="panel-body" style="position:relative">
    <button class="btn btn-primary btn-sm" routerLink="/publications/add" role="button">Agregar</button>
    <button class="btn btn-primary btn-sm" routerLink="/admin/manage" role="button">Volver</button>
    <br><br>
    <app-crud [columns]="headers" [keys]="keys" [rows]="publications" (onUpdate)="update($event)" (onDelete)="delete($event)" (onDetails)="details($event)"></app-crud>
    <app-pagination [page]="page"></app-pagination>
    <button class="btn btn-primary btn-sm" routerLink="/admin/manage" role="button">Volver</button>
  </div>
</div>
<div *ngIf=pdfLoaded class="jumbotron">
  <div class="panel panel-default" style="margin-top:10px;">
    <br><br>
    <div class="form-group">
      <div *ngIf="isLoaded" style="text-align: center;">
        <button (click)="prevPage()" data-toggle="tooltip" title="Página anterior"  [disabled]="PDFpage === 1">
          <span class="glyphicon glyphicon-arrow-left"></span>
        </button>
        <span  class="{{ totalPages }}"></span>
        <input type="number" placeholder="PDFpage" [(ngModel)]="PDFpage">
        <button (click)="nextPage()" data-toggle="tooltip" title="Página siguiente" [disabled]="PDFpage === totalPages">
          <span class="glyphicon glyphicon-arrow-right"></span>
        </button>
        <a class="button" href="pdfSrc" target="_blank" download="{{pdfName}}" data-toggle="tooltip" title="Descargar" class="btn btn-default btn-sm">
          <span class="glyphicon glyphicon-download-alt"></span>
        </a>
        <button (click)="incrementZoom(-0.1)" data-toggle="tooltip" title="Alejar" class="btn btn-default btn-sm">
          <span class="glyphicon glyphicon-zoom-out"></span>
        </button>
        <button (click)="incrementZoom(+0.1)" data-toggle="tooltip" title="Acercar" class="btn btn-default btn-sm">
           <span class="glyphicon glyphicon-zoom-in"></span>
        </button>
        <button (click)="originalZoom()" data-toggle="tooltip" title="Tamaño automático" class="btn btn-default btn-sm">
           <span class="glyphicon glyphicon-screenshot"></span>
        </button>
        <button (click)="rotatePdf()" data-toggle="tooltip" title="Girar 90°" class="btn btn-default btn-sm">
           <span class="glyphicon glyphicon-repeat"></span>
        </button>
      </div>
    </div>
      <pdf-viewer [src]="pdfSrc"
             [original-size]="true"
             [show-all]="showAll"
             [stick-to-page]="stickToPage"
             [render-text]="false"
             [page]="PDFpage"
             [zoom]="zoom"
             [rotation]="rotate"
             (after-load-complete)="afterLoadComplete($event)"
             style="display: block;"
      ></pdf-viewer>
  </div>
</div>
<swal #errSwal title text type="error"></swal>
<swal #sucSwal title type="success"></swal>
